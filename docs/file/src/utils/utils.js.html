<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/utils/utils.js | px-mobile.js API API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <a data-ice="repoURL" href="git+https://github.com/jonniespratley/px-mobilejs.git">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/base.js~BaseClass.html">BaseClass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-pxMobile">pxMobile</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/x-module.js~xModule.html">xModule</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">core</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/core.js~Core.html">Core</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/plugins.js~Plugins.html">Plugins</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/pubsub.js~PubSub.html">PubSub</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/router-history.js~RouterHistory.html">RouterHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/router.js~Router.html">Router</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/service-locator.js~ServiceLocator.html">ServiceLocator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/simple-router.js~SimpleRouter.html">SimpleRouter</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">ds</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ds/collection.js~Collection.html">Collection</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ds/db.js~DB.html">DB</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ds/http.js~HTTP.html">HTTP</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ds/model.js~Model.html">Model</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">elements</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/elements/pm-page.js~pmPage.html">pmPage</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">ui</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/app.js~App.html">App</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/component.js~Component.html">Component</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/element.js~Element.html">Element</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/elements.js~Elements.html">Elements</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/page.js~Page.html">Page</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/pages.js~Pages.html">Pages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/view.js~View.html">View</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/views.js~Views.html">Views</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">utils</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/dom.js~DOM.html">DOM</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/interface.js~Interface.html">Interface</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/log.js~Logger.html">Logger</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dom">dom</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-addMixin">addMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-debounce">debounce</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-extend">extend</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-extendClass">extendClass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-extendDeep">extendDeep</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mix">mix</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mixin">mixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-resolveURL">resolveURL</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-type">type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-uuid">uuid</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-$">$</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Interfaces">Interfaces</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-aggregation">aggregation</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/utils/utils.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">export function resolveURL() {
	var base, i, key, len, path, queryString, value;
	base = arguments[0];
	len = arguments.length;
	queryString = &apos;&apos;;
	i = 1;
	while (i &lt; len) {
		path = arguments[i];
		if (!path) {
			i++;
			continue;
		}
		if (typeof path === &apos;object&apos;) {

			/*jshint -W089 */
			for (key in path) {
				if (queryString.length &gt; 0) {
					queryString += &apos;&amp;&apos;;
				}
				value = path[key];
				queryString += key + &apos;=&apos; + value;
				i++;
			}
			continue;
		}
		if (path &amp;&amp; path.indexOf(&apos;/&apos;) !== 0) {
			path = &apos;/&apos; + path;
		}
		if (base.substr(base.length - 1) === &apos;/&apos;) {
			base = base.substr(0, base.length - 1);
		}
		base += path;
		i++;
	}
	if (queryString.length &gt; 0) {
		base += &apos;?&apos; + queryString;
	}
	return base;
}


export function extend(dest, src) {
	var out = dest;
	for (var i in src) {
		out[i] = src[i];
	}
	return out;
}
export function extendDeep(parent, child) {
	var i, toStr = Object.prototype.toString,
		astr = &apos;[object Array]&apos;;
	child = child || {};
	for (i in parent) {
		if (parent.hasOwnProperty(i)) {
			if (typeof parent[i] === &apos;object&apos;) {
				child[i] = (toStr.call(parent[i]) === astr) ? [] : {};
				extendDeep(parent[i], child[i]);
			} else {
				child[i] = parent[i];
			}
		}
	}
	return child;
}

//https://coffeescript-cookbook.github.io/chapters/classes_and_objects/mixins
export function extendClass(child, parent) {
	var hasProp = {}.hasOwnProperty;
	for (var key in parent) {
		if (hasProp.call(parent, key)) {
			child[key] = parent[key];
		}
	}
	/* jshint ignore:start */
	function ctor() {
		this.constructor = child;
	}
	ctor.prototype = parent.prototype;
	child.prototype = new ctor();
	child.__super__ = parent.prototype;
	/* jshint ignore:end */
	return child;
}



/**
 This function was modeled on jQuery&apos;s $.type function.
 https://coffeescript-cookbook.github.io/chapters/classes_and_objects/type-function
 */
export function type(obj) {
	var classToType;
	if (obj === void 0 || obj === null) {
		return String(obj);
	}
	classToType = {
		&apos;[object Boolean]&apos;: &apos;boolean&apos;,
		&apos;[object Number]&apos;: &apos;number&apos;,
		&apos;[object String]&apos;: &apos;string&apos;,
		&apos;[object Function]&apos;: &apos;function&apos;,
		&apos;[object Array]&apos;: &apos;array&apos;,
		&apos;[object Date]&apos;: &apos;date&apos;,
		&apos;[object RegExp]&apos;: &apos;regexp&apos;,
		&apos;[object Object]&apos;: &apos;object&apos;
	};
	return classToType[Object.prototype.toString.call(obj)];
}



//http://www.joezimjs.com/javascript/javascript-mixins-functional-inheritance/
export function addMixin(obj, mixin) {
	return this.extend(mixin, obj);
}

export function debounce(name, func, wait, immediate) {
	var timeout;
	return function() {
		var context = this,
			args = arguments;
		var later = function() {
			timeout = null;
			if (!immediate) {
				func.apply(context, args);
			}
		};
		var callNow = immediate &amp;&amp; !timeout;
		clearTimeout(timeout);
		timeout = setTimeout(later, wait);
		if (callNow) {
			func.apply(context, args);
		}
	};
}
export function mixin(target, source) {
	target = target.prototype;
	source = source.prototype;

	Object.getOwnPropertyNames(source).forEach(function(name) {
		if (name !== &apos;constructor&apos;) {
			Object.defineProperty(target, name, Object.getOwnPropertyDescriptor(source, name));
		}
	});
}

export function mix() {
	var arg, prop, child = {};
	for (arg = 0; arg &lt; arguments.length; arg += 1) {
		for (prop in arguments[arg]) {
			if (arguments[arg].hasOwnProperty(prop)) {
				child[prop] = arguments[arg][prop];
			}
		}
	}
	return child;
}



/*!
 Math.uuid.js (v1.4)
 http://www.broofa.com
 mailto:robert@broofa.com
 Copyright (c) 2010 Robert Kieffer
 Dual licensed under the MIT and GPL licenses.
 */

/*
 * Generate a random uuid.
 *
 * USAGE: Math.uuid(length, radix)
 *	 length - the desired number of characters
 *	 radix	- the number of allowable values for each character.
 *
 * EXAMPLES:
 *	 // No arguments	- returns RFC4122, version 4 ID
 *	 &gt;&gt;&gt; Math.uuid()
 *	 &quot;92329D39-6F5C-4520-ABFC-AAB64544E172&quot;
 *
 *	 // One argument - returns ID of the specified length
 *	 &gt;&gt;&gt; Math.uuid(15)		 // 15 character ID (default base=62)
 *	 &quot;VcydxgltxrVZSTV&quot;
 *
 *	 // Two arguments - returns ID of the specified length, and radix.
 *	 // (Radix must be &lt;= 62)
 *	 &gt;&gt;&gt; Math.uuid(8, 2)	// 8 character ID (base=2)
 *	 &quot;01001010&quot;
 *	 &gt;&gt;&gt; Math.uuid(8, 10) // 8 character ID (base=10)
 *	 &quot;47473046&quot;
 *	 &gt;&gt;&gt; Math.uuid(8, 16) // 8 character ID (base=16)
 *	 &quot;098F4D35&quot;
 */
var chars = (
	&apos;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&apos; +
	&apos;abcdefghijklmnopqrstuvwxyz&apos;
).split(&apos;&apos;);

function getValue(radix) {
	return 0 | Math.random() * radix;
}
export function uuid(len, radix) {
	radix = radix || chars.length;
	var out = &apos;&apos;;
	var i = -1;

	if (len) {
		// Compact form
		while (++i &lt; len) {
			out += chars[getValue(radix)];
		}
		return out;
	}
	// rfc4122, version 4 form
	// Fill in random data.	At i==19 set the high bits of clock sequence as
	// per rfc4122, sec. 4.1.5
	while (++i &lt; 36) {
		switch (i) {
			case 8:
			case 13:
			case 18:
			case 23:
				out += &apos;-&apos;;
				break;
			case 19:
				out += chars[(getValue(16) &amp; 0x3) | 0x8];
				break;
			default:
				out += chars[getValue(16)];
		}
	}

	return out;
}



//http://jscriptpatterns.blogspot.com/2013/01/javascript-interfaces.html
/**
 Usage:
 var IExample = new Interface(&apos;Example&apos;, [&apos;add&apos;, &apos;remove&apos;, &apos;get&apos;]);
 var ExampleClass = {
	add: function(){},
	remove: function(){},
	get: function(){}
};
 Interface.ensureImplements(ExampleClass, IExample)
 */
// Constructor.
function Interface(name, methods) {

	if (arguments.length !== 2) {
		throw new Error(&quot;Interface constructor called with &quot; + arguments.length + &quot;arguments, but expected exactly 2.&quot;);
	}

	this.name = name;
	this.methods = [];

	for (var i = 0, len = methods.length; i &lt; len; i++) {
		if (typeof methods[i] !== &apos;string&apos;) {
			throw new Error(&quot;Interface constructor expects method names to be passed in as a string.&quot;);
		}

		this.methods.push(methods[i]);
	}
}

// Static class method.
Interface.ensureImplements = function(object) {
	if (arguments.length &lt; 2) {
		throw new Error(&apos;Function Interface.ensureImplements called with &apos; + arguments.length +
			&apos;arguments, but expected at least 2.&apos;);
	}

	for (var i = 1, len = arguments.length; i &lt; len; i++) {
		var _interface = arguments[i];
		if (_interface.constructor !== Interface) {
			throw new Error(
				&apos;Function Interface.ensureImplements expects arguments two and above to be instances of Interface.&apos;);
		}

		for (var j = 0, methodsLen = _interface.methods.length; j &lt; methodsLen; j++) {
			var method = _interface.methods[j];
			if (!object[method] || typeof object[method] !== &apos;function&apos;) {
				throw new Error(&apos;Function Interface.ensureImplements: object does not implement the &apos; + _interface.name +
					&apos; interface. Method &apos; + method + &apos; was not found. &apos;);
			}
		}
	}
	return true;
};


/**
 * I handle mixing classes. This generic aggregation function is usually provided by a library like this one, of course]
 */
export var aggregation = (baseClass, ...mixins) =&gt; {
	let base = class _Combined extends baseClass {
		constructor(...args) {
			super(...args);
			mixins.forEach((mixin) =&gt; {
				mixin.prototype.initializer.call(this);
			});
		}
	};
	let copyProps = (target, source) =&gt; {
		Object.getOwnPropertyNames(source)
			.concat(Object.getOwnPropertySymbols(source))
			.forEach((prop) =&gt; {
				if (prop.match(/^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/)) {
					return;
				}

				Object.defineProperty(target, prop, Object.getOwnPropertyDescriptor(source, prop));
			});
	};
	mixins.forEach((mixin) =&gt; {
		copyProps(base.prototype, mixin.prototype);
		copyProps(base, mixin);
	});
	return base;
};
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.3)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
