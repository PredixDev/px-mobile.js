<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/elements/pm-page.js | px-mobile.js API API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <a data-ice="repoURL" href="git+https://github.com/jonniespratley/px-mobilejs.git">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/base.js~BaseClass.html">BaseClass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-pxMobile">pxMobile</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">components</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/components/x-module.js~xModule.html">xModule</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">core</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/core.js~Core.html">Core</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/plugins.js~Plugins.html">Plugins</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/pubsub.js~PubSub.html">PubSub</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/router-history.js~RouterHistory.html">RouterHistory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/router.js~Router.html">Router</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/service-locator.js~ServiceLocator.html">ServiceLocator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/core/simple-router.js~SimpleRouter.html">SimpleRouter</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">ds</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ds/collection.js~Collection.html">Collection</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ds/db.js~DB.html">DB</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ds/http.js~HTTP.html">HTTP</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ds/model.js~Model.html">Model</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">elements</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/elements/pm-page.js~pmPage.html">pmPage</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">ui</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/app.js~App.html">App</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/component.js~Component.html">Component</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/element.js~Element.html">Element</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/elements.js~Elements.html">Elements</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/page.js~Page.html">Page</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/pages.js~Pages.html">Pages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/view.js~View.html">View</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ui/views.js~Views.html">Views</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">utils</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/dom.js~DOM.html">DOM</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/interface.js~Interface.html">Interface</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/log.js~Logger.html">Logger</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-dom">dom</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-addMixin">addMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-debounce">debounce</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-extend">extend</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-extendClass">extendClass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-extendDeep">extendDeep</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mix">mix</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mixin">mixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-resolveURL">resolveURL</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-type">type</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-uuid">uuid</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-$">$</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Interfaces">Interfaces</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-aggregation">aggregation</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/elements/pm-page.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import Logger from &apos;../utils/log&apos;;
import * as utils from &apos;../utils/utils&apos;;


export default class pmPage {
  createdCallback() {
    const logger = new Logger(this.localName, {
      colors: {
        debug: &apos;color:orange&apos;
      }
    });
    utils.addMixin(logger, this);

    this.properties = {
      //Title of the page
      title: {
        type: String,
        value: &apos;Page Title&apos;
      },
      //Text for the back button
      backText: {
        type: String,
        value: null
      },
      //Enable back button
      backLink: {
        type: String,
        value: null
      },
      //Path to remote view that will be loaded
      href: {
        type: String,
        notify: true,
        value: null,
        observer: &apos;_tmplChanged&apos;
      },
      //If the page is the current page.
      active: {
        type: Boolean,
        value: false
      },
      //If the page is a dialog
      modal: {
        type: Boolean,
        value: false
      },
      //with URL query parameters. If your page URL is &quot;about.html?id=10&amp;count=20&amp;color=blue&quot;
      query: {
        type: Object
      },
      //The context that was passed for this page when using pxm-pages
      context: {
        type: Object
      },
      //View instance that contains this page (if this View was initialized)
      view: {
        type: Object
      },
      //Page Data object of the previously active page
      fromPage: {
        type: Object
      },
      route: {
        type: String
      },
      //Contains string URL of just loaded page
      url: {
        type: String
      },
      //Link to Page HTMLElement
      container: {
        type: String
      }
    };

    this.createShadowRoot().innerHTML =
      `
					&lt;style&gt;
						:host {
					    display: block;
					    box-sizing: border-box;
					    -webkit-transition: all 0.4s ease-out;
					    transition: all 0.4s ease-out;
					  }
						:host header{
						  padding: 10px;
						}
					  :host .close-btn{
					    cursor: pointer;
					    position: absolute;
					    right: .1em;
					    top: .2em;
					    width: 44px;
					    height: 44px;
					    display: block;
					  }
				    :host .hamburger {
				      width: 20px;
				      height: 2px;
				      background: #000;
				      display: block;
				      position: absolute;
				      top: 50%;
				      left: 15%;
				      transition: transform 300ms;
				    }
					  :host .hamburger-1 {
					    transform: translate3d(0, 0, 0) rotate(45deg);
					  }
					  :host .hamburger-2 {
					    transform: translate3d(0, 0, 0) rotate(-45deg);
					  }
					&lt;/style&gt;
					&lt;div class=&quot;page-content overthrow&quot;&gt;
						&lt;content&gt;&lt;/content&gt;
					&lt;/div&gt;
					`;

    this.logApi(&apos;created&apos;, this.id);

  }
  ready() {
    this.logApi(&apos;ready&apos;, this.id);
    if (this.modal) {
      this.toggleClass(&apos;modal&apos;);
    }
    //return this.emit(&apos;init&apos;, this);
  }
  attachedCallback() {
    //  return this.emit(&apos;after:init&apos;, this);
  }
  detachedCallback() {

  }
  attributeChangedCallback(prop, oldVal, newVal) {

  }
  show() {
    this.logApi(&apos;show view&apos;, this.id);
    this.toggleClass(&apos;current&apos;, false, this);
  }
  hide() {
    this.logApi(&apos;hide view&apos;, this.id);
    this.toggleClass(&apos;hidden&apos;, true, this);
  }
  update() {
    this.logApi(&apos;update view&apos;, this.id);
  }
  currentView() {
    this.logApi(&apos;current view&apos;, this.id);
    this.child()[0].toggleClass(&apos;current&apos;, true, this);
  }
  nextView() {
    this.logApi(&apos;next view&apos;, this.id);
    this.toggleClass(&apos;next&apos;, true, this);
  }
  previousView() {
    this.logApi(&apos;previous view&apos;, this.id);
    this.toggleClass(&apos;previous&apos;, true, this);
  }
  contextChanged(newContext, oldContext) {
    this.logApi(&apos;contextChanged&apos;, newContext, oldContext);
  }

  //I handle loading a page from a url
  _tmplChanged(newVal, oldVal) {
    let _this = this,
      html = &apos;&apos;;
    if (newVal) {
      this.logApi(this.id, &apos;Load remote html&apos;, newVal);
      this.importHref(newVal, e =&gt; {
        html = e.target.import.body.innerHTML;
        _this.logApi(&apos;inject html&apos;, _this.id);
        _this.logApi(&apos;inject px-view html&apos;, _this.id);
        _this.html(html);
      }, e =&gt; {
        // loading error
        _this.logApi(&apos;Error loading page&apos;, e);
      });
    }
  }
  showMenu() {
    px.mobile.dom(&apos;pxm-app&apos;).toggleClass(&apos;show-menu&apos;);
  }
  open() {
    this.logApi(&apos;open&apos;, this);
    this.addClass(&apos;active&apos;);
  }
  close() {
    this.logApi(&apos;close&apos;, this);
    this.removeClass(&apos;active&apos;);
  }
  toggle() {
    this.logApi(&apos;toggle&apos;, this);
    this.toggleClass(&apos;active&apos;);
  }
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.3)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
